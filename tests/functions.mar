use std::assert;

fn fibonacci(n: int): int {
    if n <= 1 {
        n
    } else {
        fibonacci(n - 1) + fibonacci(n - 2)
    }
}

fn factorial(n: int): int {
    if n <= 1 {
        1
    } else {
        n * factorial(n - 1)
    }
}

fn power(base: int, exp: int): int {
    if exp == 0 {
        1
    } else {
        base * power(base, exp - 1)
    }
}

fn gcd(a: int, b: int): int {
    if b == 0 {
        a
    } else {
        gcd(b, a % b)
    }
}

fn sum_range(n: int): int {
    if n <= 0 {
        0
    } else {
        n + sum_range(n - 1)
    }
}

fn is_even(n: int): bool {
    n % 2 == 0
}

@test
fn test_func_simple() {
    assert(true, "function call test");
}

@test
fn test_func_return() {
    var result = factorial(4);
    assert(result == 24, "factorial(4) should equal 24");
}

@test
fn test_fib() {
    var result = fibonacci(6);
    assert(result == 8, "fibonacci(6) should equal 8");
}

@test
fn test_factorial() {
    var result = factorial(5);
    assert(result == 120, "factorial(5) should equal 120");
}

@test
fn test_power() {
    var result = power(2, 5);
    assert(result == 32, "power(2, 5) should equal 32");
}

@test
fn test_gcd() {
    var result = gcd(48, 18);
    assert(result == 6, "gcd(48, 18) should equal 6");
}

@test
fn test_sum_range() {
    var result = sum_range(10);
    assert(result == 55, "sum_range(10) should equal 55");
}

@test
fn test_is_even() {
    assert(is_even(4) && !is_even(5), "is_even should work correctly");
}

@test
fn test_recursive_depth() {
    var result = power(3, 4);
    assert(result == 81, "power(3, 4) should equal 81");
}

@test
fn test_multiple_recursion() {
    var fib = fibonacci(7);
    var fact = factorial(4);
    assert(fib == 13 && fact == 24, "multiple recursive calls should work");
}
